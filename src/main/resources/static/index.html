<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HBase 电影评分数据查询系统 - 最终优化版</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="container">
    <h1>MovieLens HBase 数据查询系统 - 优化版</h1>

    <div class="query-section">
        <h3>1. 查询电影详情 (Get)</h3>
        <label for="movieTitleInput">电影名称 (Row Key):</label>
        <input type="text" id="movieTitleInput" value="Toy Story (1995)" placeholder="例如: Toy Story (1995)">
        <button class="action-button" onclick="queryMovieDetail()">查询</button>
        <div class="result-box">
            <div class="result-header">电影详情结果:</div>
            <div id="resultDetailTable" class="result-content"></div>
        </div>
    </div>

    <div class="query-section">
        <h3>2. 查询用户所有评分 (Scan)</h3>
        <label for="userIdInput">用户 ID:</label>
        <input type="text" id="userIdInput" value="1" placeholder="例如: 1">
        <button class="action-button" onclick="queryUserRatings()">查询</button>

        <div class="result-box">
            <div class="result-header">用户评分记录:</div>
            <div id="ratingsResultWrapper">
                <div id="userRatingsFloatingToggle" class="floating-toggle hidden">
                    <button id="userRatingsToggleButton" class="toggle-btn collapse-icon"
                            onclick="toggleFolding('userRatingsCollapsible', 'userRatingsToggleButton')">

                    </button>
                </div>
                <div id="userRatingsCollapsible" class="collapsible-wrapper">
                    <div id="resultUserRatingsTable" class="result-content"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="query-section">
        <h3>3. 查询某电影所有评分 (间接 Scan)</h3>
        <label for="movieTitleRatingsInput">电影名称:</label>
        <input type="text" id="movieTitleRatingsInput" value="Jumanji (1995)" placeholder="例如: Jumanji (1995)">
        <button class="action-button" onclick="queryMovieAllRatings()">查询</button>

        <div class="result-box">
            <div class="result-header">电影所有评分记录:</div>
            <div id="allRatingsResultWrapper">
                <div id="allRatingsFloatingToggle" class="floating-toggle hidden">
                    <button id="allRatingsToggleButton" class="toggle-btn collapse-icon"
                            onclick="toggleFolding('allRatingsCollapsible', 'allRatingsToggleButton')"></button>
                </div>
                <div id="allRatingsCollapsible" class="collapsible-wrapper">
                    <div id="resultAllRatingsTable" class="result-content"></div>
                </div>
            </div>
        </div>
    </div>

</div>

<script src="js/movieQuery.js">

</script>

</body>
</html>